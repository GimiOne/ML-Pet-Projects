# Бот: шорт альткоина при падении BTC

Идея: при резком падении BTC даём до 30 минут на вход в шорт по альткоину из топ-30.
Сильнейшая фаза падения альты часто первые ~10 минут.

## Возможности
- Раздельные блоки: сбор цен (API/ручной), клиент Hyperliquid (сухой режим), стратегия
- Отключаемый сбор цен: можно вручную подставлять цены и тестировать вход
- CLI на Typer

## Установка
```bash
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
```

## Запуск (онлайн цены через Binance)
```bash
python -m bot.main run_live --alt ETHUSDT --threshold 1.0 --lookback 300 --qty 1 --dry-run
```

## Ручное тестирование (без API)
1) Одноразовый тик (подставляем цены):
```bash
python -m bot.main manual_once --btc 68000 --alt 3400 --alt-symbol ETHUSDT --threshold 1.0 --lookback 300 --qty 1
```

2) Пошаговая симуляция:
```bash
python -m bot.main manual_replay --alt-symbol ETHUSDT \
  --btc-seq 70000,69500,69000,68500,68000 \
  --alt-seq 3500,3470,3440,3410,3380 \
  --threshold 1.0 --lookback 300 --qty 1
```

> Клиент Hyperliquid по умолчанию в сухом режиме: заявки не отправляются на реальную биржу.

## Важно
- Это учебный пример. Перед реальной торговлей добавьте риск-менеджмент,
  обработку ошибок сети/биржи, персистентность состояния, расчёт размера позиции.